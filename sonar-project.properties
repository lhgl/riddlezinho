# SonarQube Configuration for RiddleZinho
# Documentacao: https://docs.sonarqube.org/

# Projeto
sonar.projectKey=lhgl_riddlezinho
sonar.projectName=RiddleZinho
sonar.projectVersion=2.5.0

# Descricao
sonar.projectDescription=RiddleZinho - Jogo de Charadas Interativo em TypeScript

# Fontes
sonar.sources=src,public
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# Linguagens
sonar.language=ts,js
sonar.typescript.file.suffixes=.ts
sonar.javascript.file.suffixes=.js

# Exclusoes
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/public/scripts/*.min.js

# Test Coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Code Coverage Exclusions (arquivos que nao precisam de 100% coverage)
sonar.coverage.exclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/tests/**/*,**/src/server.ts,**/public/scripts/**

# Duplication Detection
sonar.cpd.exclusions=**/*.test.ts,**/*.test.js,**/tests/**/*

# Issue Exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignorar regras especificas para arquivos de teste
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

# Ignorar console.log em testes
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e2.resourceKey=tests/**/*

# Ignorar TODOs em geral
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*

# Ignorar no-explicit-any warnings (TypeScript)
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S4324
sonar.issue.ignore.multicriteria.e4.resourceKey=src/**

# Quality Gate Personalizado
# Bugs: 0
# Vulnerabilities: 0
# Code Smells: < 50
# Coverage: > 80%
# Duplication: < 3%

# Regras especificas do SonarQube
sonar.typescript.tsconfigPath=tsconfig.json

# SCM
sonar.scm.provider=git
sonar.scm.forceReloadAll=false

# Pull Request Decoration
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=lhgl/riddlezinho

# Branch Analysis (optional - only if SONAR_BRANCH_NAME is set)
# sonar.branch.name=${env.SONAR_BRANCH_NAME}

# SonarQube Configuration for RiddleZinho
# Documentação: https://docs.sonarqube.org/

# Projeto
sonar.projectKey=lhgl_riddlezinho
sonar.projectName=RiddleZinho
sonar.projectVersion=2.5.0

# Descrição
sonar.projectDescription=RiddleZinho - Jogo de Charadas Interativo em TypeScript

# Fontes
sonar.sources=src
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# TypeScript
sonar.language=ts
sonar.typescript.file.suffixes=.ts

# Exclusões
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js

# Test Coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Code Coverage Exclusions (arquivos que não precisam de 100% coverage)
sonar.coverage.exclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/tests/**/*,**/src/server.ts

# Duplication Detection
sonar.cpd.exclusions=**/*.test.ts,**/*.test.js,**/tests/**/*

# Issue Exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3

# Ignorar regras específicas para arquivos de teste
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

# Ignorar console.log em testes
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e2.resourceKey=tests/**/*

# Ignorar TODOs em geral
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*

# Quality Gate Personalizado
# Bugs: 0
# Vulnerabilities: 0
# Code Smells: < 50
# Coverage: > 80%
# Duplication: < 3%

# Regras específicas do SonarQube
sonar.typescript.tsconfigPath=tsconfig.json

# SCM
sonar.scm.provider=git
sonar.scm.forceReloadAll=false

# Pull Request Decoration
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=lhgl/riddlezinho

# Branch Analysis
sonar.branch.name=${env.SONAR_BRANCH_NAME}

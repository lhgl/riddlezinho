# SonarQube Configuration for RiddleZinho
# Documentacao: https://docs.sonarqube.org/

# Projeto
sonar.projectKey=lhgl_riddlezinho
sonar.projectName=RiddleZinho
sonar.projectVersion=2.5.0

# Descricao
sonar.projectDescription=RiddleZinho - Jogo de Charadas Interativo em TypeScript

# Fontes - Apenas codigo de producao
sonar.sources=src
sonar.tests=tests
sonar.sourceEncoding=UTF-8

# Linguagens
sonar.language=ts
sonar.typescript.file.suffixes=.ts

# Exclusoes - Arquivos que nao devem ser analisados
sonar.exclusions=**/node_modules/**,**/dist/**,**/coverage/**,**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/public/scripts/**

# Test Coverage
sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Code Coverage Exclusions
sonar.coverage.exclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/tests/**/*,**/src/server.ts

# Duplication Detection - Configurar sensibilidade
# Ignorar duplicacao em arquivos de teste e config
sonar.cpd.exclusions=**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js,**/tests/**/*,**/src/config/**/*

# Minimum tokens for duplication detection (padrao: 100 para TS/JS)
# Aumentar para 150 para reduzir falsos positivos
sonar.cpd.ts.minimumTokens=150
sonar.cpd.javascript.minimumTokens=150

# Issue Exclusions
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5

# Ignorar regras especificas para arquivos de teste
sonar.issue.ignore.multicriteria.e1.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e1.resourceKey=**/*.test.ts

# Ignorar console.log em testes
sonar.issue.ignore.multicriteria.e2.ruleKey=typescript:S1134
sonar.issue.ignore.multicriteria.e2.resourceKey=tests/**/*

# Ignorar TODOs em geral
sonar.issue.ignore.multicriteria.e3.ruleKey=typescript:S1135
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*

# Ignorar no-explicit-any warnings (TypeScript)
sonar.issue.ignore.multicriteria.e4.ruleKey=typescript:S4324
sonar.issue.ignore.multicriteria.e4.resourceKey=src/**

# Ignorar duplicacao em arquivos de interface/types
sonar.issue.ignore.multicriteria.e5.ruleKey=typescript:S1192
sonar.issue.ignore.multicriteria.e5.resourceKey=src/**/*.ts

# Regras especificas do SonarQube
sonar.typescript.tsconfigPath=tsconfig.json

# SCM
sonar.scm.provider=git
sonar.scm.forceReloadAll=false

# Pull Request Decoration
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=lhgl/riddlezinho
